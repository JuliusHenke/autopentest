from dotenv import load_dotenv
from langchain_openai import AzureChatOpenAI

from src.util import get_env_or_raise

# Load environment variables
load_dotenv()

# Create LLM based on Azure chat endpoint for GPT-4o
llm = AzureChatOpenAI(
    openai_api_version=get_env_or_raise("AZURE_OPENAI_COMPLETION_API_VERSION"),
    azure_deployment=get_env_or_raise("AZURE_OPENAI_COMPLETION_GPT_4O"),
    openai_api_key=get_env_or_raise("AZURE_OPENAI_COMPLETION_API_KEY"),
    temperature=0,
)

if __name__ == "__main__":
    print(llm.invoke("Hello, how are you?"))
